<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS HW 6</title>
</head>

<body>
    <h2>Task 1</h2>
    <p>Створити масив, який зберігатиме у собі інформацію про співробітників підприємства.</p>
    <ul>
        <li>Кожен елемент масиву - об'єкт, що містить властивості: name, sName, age, occupation, та метод show, який
            виводить всю інформацію про користувача.</li>
        <li>Реалізувати заповнення масиву користувачем.</li>
        <li>Після закінчення заповнення - вивести інформацію про співробітників.</li>
    </ul>
    <label for="name">Ім'я</label>
    <input id="name" name="fname" type="text">
    <label for="sName">Прізвище</label>
    <input id="sName" name="lname" type="text">
    <label for="age">Вік</label>
    <input id="age" name="age" type="number">
    <label for="occupation">Посада</label>
    <input id="occupation" name="occupation" type="text" list="occupationsList">
    <datalist id="occupationsList">
        <option value="director">
        <option value="manager">
        <option value="programmer">
    </datalist>
    <button onclick="addNewEmployee()">Додати</button>
    <button onclick="showAllEmployees()">Показати всіх</button>
    <pre id="consoleEmulation" style="height: 200px; display: flex; flex-direction: column-reverse; overflow:auto">

    </pre>
    <p>Код:</p>
    <pre></pre>
    <script>
        let staff = [];
        let name = document.getElementById('name');
        let sName = document.getElementById('sName');
        let age = document.getElementById('age');
        let occupation = document.getElementById('occupation');
        let consoleEmulation = document.getElementById('consoleEmulation');
        function addNewEmployee() {
            let employee = {
                name: name.value,
                sName: sName.value,
                age: age.value,
                occupation: occupation.value,
                show: function () {
                    let employeeData = '';
                    for (let key in this) {
                        if (key !== 'show') {
                            employeeData += `${key}: ${this[key]} `;
                        }
                    }
                    return employeeData;
                }
            };
            staff.push(employee);
            alert('Співробітника додано');
        }
        function showAllEmployees() {
            for (let i = 0; i < staff.length; i++) {
                console.log(staff[i].show());
                consoleEmulation.append(`> ${staff[i].show()}\n`);
            }
        }
    </script>
    <hr>
    <h2>Task 2</h2>
    <p>Для попереднього завдання створіть функцію, яка прийматиме масив об'єктів-співробітників, і кожному з
        об'єктів додаватиме нову властивість "salary", що зберігає зарплату співробітника.</p>
    <ul>
        <li> Зарплата розраховується, виходячи із значення властивості "occupation" таким чином:
            <ul>
                <li>"director" - 3000;</li>
                <li>"manager" - 1500;</li>
                <li>"programmer" - 2000;</li>
                <li>для інших значень – 1000.</li>
            </ul>
        </li>
        <li>Після виконання функції – вивести інформацію про співробітників.</li>
    </ul>
    <button onclick="salaryCalc(staff)">Розрахувати ЗП співробітників</button>
    <script>
        function salaryCalc(arr) {
            for (let i = 0; i < arr.length; i++) {
                switch (arr[i].occupation) {
                    case 'director': arr[i].salary = 3000;
                        break;
                    case 'manager': arr[i].salary = 1500;
                        break;
                    case 'programmer': arr[i].salary = 2000;
                        break;
                    default: arr[i].salary = 1000;
                }
            }
            showAllEmployees();
        }
    </script>

</html>